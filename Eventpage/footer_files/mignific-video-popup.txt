(function(A){typeof define=="function"&&define.amd?define(["jquery"],A):typeof exports=="object"?A(require("jquery")):A(window.jQuery||window.Zepto)})(function(Ab){var Aa="Close",AZ="BeforeClose",AY="AfterClose",AX="BeforeAppend",AW="MarkupParse",AV="Open",AU="Change",AT="mfp",AS="."+AT,AR="mfp-ready",AQ="mfp-removing",AP="mfp-prevent-close",AO,AN=function(){},AM=!!window.jQuery,AL,AK=Ab(window),AJ,AI,AH,AG,AF=function(B,A){AO.ev.on(AT+B+AS,A)},AE=function(A,E,D,C){var B=document.createElement("div");return B.className="mfp-"+A,D&&(B.innerHTML=D),C?E&&E.appendChild(B):(B=Ab(B),E&&B.appendTo(E)),B},AD=function(A,B){AO.ev.triggerHandler(AT+A,B),AO.st.callbacks&&(A=A.charAt(0).toLowerCase()+A.slice(1),AO.st.callbacks[A]&&AO.st.callbacks[A].apply(AO,Ab.isArray(B)?B:[B]))},AC=function(A){if(A!==AG||!AO.currTemplate.closeBtn){AO.currTemplate.closeBtn=Ab(AO.st.closeMarkup.replace("%title%",AO.st.tClose)),AG=A}return AO.currTemplate.closeBtn},AB=function(){Ab.magnificPopup.instance||(AO=new AN,AO.init(),Ab.magnificPopup.instance=AO)},AA=function(){var B=document.createElement("p").style,A=["ms","O","Moz","Webkit"];if(B.transition!==undefined){return !0}while(A.length){if(A.pop()+"Transition" in B){return !0}}return !1};AN.prototype={constructor:AN,init:function(){var A=navigator.appVersion;AO.isIE7=A.indexOf("MSIE 7.")!==-1,AO.isIE8=A.indexOf("MSIE 8.")!==-1,AO.isLowIE=AO.isIE7||AO.isIE8,AO.isAndroid=/android/gi.test(A),AO.isIOS=/iphone|ipad|ipod/gi.test(A),AO.supportsTransition=AA(),AO.probablyMobile=AO.isAndroid||AO.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),AJ=Ab(document),AO.popupsCache={}},open:function(J){var I;if(J.isObj===!1){AO.items=J.items.toArray(),AO.index=0;var H=J.items,G;for(I=0;I<H.length;I++){G=H[I],G.parsed&&(G=G.el[0]);if(G===J.el[0]){AO.index=I;break}}}else{AO.items=Ab.isArray(J.items)?J.items:[J.items],AO.index=J.index||0}if(AO.isOpen){AO.updateItemHTML();return }AO.types=[],AH="",J.mainEl&&J.mainEl.length?AO.ev=J.mainEl.eq(0):AO.ev=AJ,J.key?(AO.popupsCache[J.key]||(AO.popupsCache[J.key]={}),AO.currTemplate=AO.popupsCache[J.key]):AO.currTemplate={},AO.st=Ab.extend(!0,{},Ab.magnificPopup.defaults,J),AO.fixedContentPos=AO.st.fixedContentPos==="auto"?!AO.probablyMobile:AO.st.fixedContentPos,AO.st.modal&&(AO.st.closeOnContentClick=!1,AO.st.closeOnBgClick=!1,AO.st.showCloseBtn=!1,AO.st.enableEscapeKey=!1),AO.bgOverlay||(AO.bgOverlay=AE("bg").on("click"+AS,function(){AO.close()}),AO.wrap=AE("wrap").attr("tabindex",-1).on("click"+AS,function(K){AO._checkIfClose(K.target)&&AO.close()}),AO.container=AE("container",AO.wrap)),AO.contentContainer=AE("content"),AO.st.preloader&&(AO.preloader=AE("preloader",AO.container,AO.st.tLoading));var F=Ab.magnificPopup.modules;for(I=0;I<F.length;I++){var E=F[I];E=E.charAt(0).toUpperCase()+E.slice(1),AO["init"+E].call(AO)}AD("BeforeOpen"),AO.st.showCloseBtn&&(AO.st.closeBtnInside?(AF(AW,function(L,K,N,M){N.close_replaceWith=AC(M.type)}),AH+=" mfp-close-btn-in"):AO.wrap.append(AC())),AO.st.alignTop&&(AH+=" mfp-align-top"),AO.fixedContentPos?AO.wrap.css({overflow:AO.st.overflowY,overflowX:"hidden",overflowY:AO.st.overflowY}):AO.wrap.css({top:AK.scrollTop(),position:"absolute"}),(AO.st.fixedBgPos===!1||AO.st.fixedBgPos==="auto"&&!AO.fixedContentPos)&&AO.bgOverlay.css({height:AJ.height(),position:"absolute"}),AO.st.enableEscapeKey&&AJ.on("keyup"+AS,function(K){K.keyCode===27&&AO.close()}),AK.on("resize"+AS,function(){AO.updateSize()}),AO.st.closeOnContentClick||(AH+=" mfp-auto-cursor"),AH&&AO.wrap.addClass(AH);var D=AO.wH=AK.height(),C={};if(AO.fixedContentPos&&AO._hasScrollBar(D)){var B=AO._getScrollbarSize();B&&(C.marginRight=B)}AO.fixedContentPos&&(AO.isIE7?Ab("body, html").css("overflow","hidden"):C.overflow="hidden");var A=AO.st.mainClass;return AO.isIE7&&(A+=" mfp-ie7"),A&&AO._addClassToMFP(A),AO.updateItemHTML(),AD("BuildControls"),Ab("html").css(C),AO.bgOverlay.add(AO.wrap).prependTo(AO.st.prependTo||Ab(document.body)),AO._lastFocusedEl=document.activeElement,setTimeout(function(){AO.content?(AO._addClassToMFP(AR),AO._setFocus()):AO.bgOverlay.addClass(AR),AJ.on("focusin"+AS,AO._onFocusIn)},16),AO.isOpen=!0,AO.updateSize(D),AD(AV),J},close:function(){if(!AO.isOpen){return }AD(AZ),AO.isOpen=!1,AO.st.removalDelay&&!AO.isLowIE&&AO.supportsTransition?(AO._addClassToMFP(AQ),setTimeout(function(){AO._close()},AO.st.removalDelay)):AO._close()},_close:function(){AD(Aa);var B=AQ+" "+AR+" ";AO.bgOverlay.detach(),AO.wrap.detach(),AO.container.empty(),AO.st.mainClass&&(B+=AO.st.mainClass+" "),AO._removeClassFromMFP(B);if(AO.fixedContentPos){var A={marginRight:""};AO.isIE7?Ab("body, html").css("overflow",""):A.overflow="",Ab("html").css(A)}AJ.off("keyup"+AS+" focusin"+AS),AO.ev.off(AS),AO.wrap.attr("class","mfp-wrap").removeAttr("style"),AO.bgOverlay.attr("class","mfp-bg"),AO.container.attr("class","mfp-container"),AO.st.showCloseBtn&&(!AO.st.closeBtnInside||AO.currTemplate[AO.currItem.type]===!0)&&AO.currTemplate.closeBtn&&AO.currTemplate.closeBtn.detach(),AO._lastFocusedEl&&Ab(AO._lastFocusedEl).focus(),AO.currItem=null,AO.content=null,AO.currTemplate=null,AO.prevHeight=0,AD(AY)},updateSize:function(B){if(AO.isIOS){var A=document.documentElement.clientWidth/window.innerWidth,C=window.innerHeight*A;AO.wrap.css("height",C),AO.wH=C}else{AO.wH=B||AK.height()}AO.fixedContentPos||AO.wrap.css("height",AO.wH),AD("Resize")},updateItemHTML:function(){var A=AO.items[AO.index];AO.contentContainer.detach(),AO.content&&AO.content.detach(),A.parsed||(A=AO.parseEl(AO.index));var D=A.type;AD("BeforeChange",[AO.currItem?AO.currItem.type:"",D]),AO.currItem=A;if(!AO.currTemplate[D]){var C=AO.st[D]?AO.st[D].markup:!1;AD("FirstMarkupParse",C),C?AO.currTemplate[D]=Ab(C):AO.currTemplate[D]=!0}AI&&AI!==A.type&&AO.container.removeClass("mfp-"+AI+"-holder");var B=AO["get"+D.charAt(0).toUpperCase()+D.slice(1)](A,AO.currTemplate[D]);AO.appendContent(B,D),A.preloaded=!0,AD(AU,A),AI=A.type,AO.container.prepend(AO.contentContainer),AD("AfterChange")},appendContent:function(B,A){AO.content=B,B?AO.st.showCloseBtn&&AO.st.closeBtnInside&&AO.currTemplate[A]===!0?AO.content.find(".mfp-close").length||AO.content.append(AC()):AO.content=B:AO.content="",AD(AX),AO.container.addClass("mfp-"+A+"-holder"),AO.contentContainer.append(AO.content)},parseEl:function(A){var E=AO.items[A],D;E.tagName?E={el:Ab(E)}:(D=E.type,E={data:E,src:E.src});if(E.el){var C=AO.types;for(var B=0;B<C.length;B++){if(E.el.hasClass("mfp-"+C[B])){D=C[B];break}}E.src=E.el.attr("data-mfp-src"),E.src||(E.src=E.el.attr("href"))}return E.type=D||AO.st.type||"inline",E.index=A,E.parsed=!0,AO.items[A]=E,AD("ElementParse",E),AO.items[A]},addGroup:function(B,A){var D=function(E){E.mfpEl=this,AO._openClick(E,B,A)};A||(A={});var C="click.magnificPopup";A.mainEl=B,A.items?(A.isObj=!0,B.off(C).on(C,D)):(A.isObj=!1,A.delegate?B.off(C).on(C,A.delegate,D):(A.items=B,B.off(C).on(C,D)))},_openClick:function(A,E,D){var C=D.midClick!==undefined?D.midClick:Ab.magnificPopup.defaults.midClick;if(!C&&(A.which===2||A.ctrlKey||A.metaKey)){return }var B=D.disableOn!==undefined?D.disableOn:Ab.magnificPopup.defaults.disableOn;if(B){if(Ab.isFunction(B)){if(!B.call(AO)){return !0}}else{if(AK.width()<B){return !0}}}A.type&&(A.preventDefault(),AO.isOpen&&A.stopPropagation()),D.el=Ab(A.mfpEl),D.delegate&&(D.items=E.find(D.delegate)),AO.open(D)},updateStatus:function(B,A){if(AO.preloader){AL!==B&&AO.container.removeClass("mfp-s-"+AL),!A&&B==="loading"&&(A=AO.st.tLoading);var C={status:B,text:A};AD("UpdateStatus",C),B=C.status,A=C.text,AO.preloader.html(A),AO.preloader.find("a").on("click",function(D){D.stopImmediatePropagation()}),AO.container.addClass("mfp-s-"+B),AL=B}},_checkIfClose:function(A){if(Ab(A).hasClass(AP)){return }var C=AO.st.closeOnContentClick,B=AO.st.closeOnBgClick;if(C&&B){return !0}if(!AO.content||Ab(A).hasClass("mfp-close")||AO.preloader&&A===AO.preloader[0]){return !0}if(A!==AO.content[0]&&!Ab.contains(AO.content[0],A)){if(B&&Ab.contains(document,A)){return !0}}else{if(C){return !0}}return !1},_addClassToMFP:function(A){AO.bgOverlay.addClass(A),AO.wrap.addClass(A)},_removeClassFromMFP:function(A){this.bgOverlay.removeClass(A),AO.wrap.removeClass(A)},_hasScrollBar:function(A){return(AO.isIE7?AJ.height():document.body.scrollHeight)>(A||AK.height())},_setFocus:function(){(AO.st.focus?AO.content.find(AO.st.focus).eq(0):AO.wrap).focus()},_onFocusIn:function(A){if(A.target!==AO.wrap[0]&&!Ab.contains(AO.wrap[0],A.target)){return AO._setFocus(),!1}},_parseMarkup:function(A,D,C){var B;C.data&&(D=Ab.extend(C.data,D)),AD(AW,[A,D,C]),Ab.each(D,function(E,H){if(H===undefined||H===!1){return !0}B=E.split("_");if(B.length>1){var G=A.find(AS+"-"+B[0]);if(G.length>0){var F=B[1];F==="replaceWith"?G[0]!==H[0]&&G.replaceWith(H):F==="img"?G.is("img")?G.attr("src",H):G.replaceWith('<img src="'+H+'" class="'+G.attr("class")+'" />'):G.attr(B[1],H)}}else{A.find(AS+"-"+E).html(H)}})},_getScrollbarSize:function(){if(AO.scrollbarSize===undefined){var A=document.createElement("div");A.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(A),AO.scrollbarSize=A.offsetWidth-A.clientWidth,document.body.removeChild(A)}return AO.scrollbarSize}},Ab.magnificPopup={instance:null,proto:AN.prototype,modules:[],open:function(A,B){return AB(),A?A=Ab.extend(!0,{},A):A={},A.isObj=!0,A.index=B||0,this.instance.open(A)},close:function(){return Ab.magnificPopup.instance&&Ab.magnificPopup.instance.close()},registerModule:function(A,B){B.options&&(Ab.magnificPopup.defaults[A]=B.options),Ab.extend(this.proto,B.proto),this.modules.push(A)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},Ab.fn.magnificPopup=function(A){AB();var E=Ab(this);if(typeof A=="string"){if(A==="open"){var D,C=AM?E.data("magnificPopup"):E[0].magnificPopup,B=parseInt(arguments[1],10)||0;C.items?D=C.items[B]:(D=E,C.delegate&&(D=D.find(C.delegate)),D=D.eq(B)),AO._openClick({mfpEl:D},E,C)}else{AO.isOpen&&AO[A].apply(AO,Array.prototype.slice.call(arguments,1))}}else{A=Ab.extend(!0,{},A),AM?E.data("magnificPopup",A):E[0].magnificPopup=A,AO.addGroup(E,A)}return E};var Z="inline",Y,X,W,V=function(){W&&(X.after(W.addClass(Y)).detach(),W=null)};Ab.magnificPopup.registerModule(Z,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){AO.types.push(Z),AF(Aa+"."+Z,function(){V()})},getInline:function(A,E){V();if(A.src){var D=AO.st.inline,C=Ab(A.src);if(C.length){var B=C[0].parentNode;B&&B.tagName&&(X||(Y=D.hiddenClass,X=AE(Y),Y="mfp-"+Y),W=C.after(X).detach().removeClass(Y)),AO.updateStatus("ready")}else{AO.updateStatus("error",D.tNotFound),C=Ab("<div>")}return A.inlineElement=C,C}return AO.updateStatus("ready"),AO._parseMarkup(E,{},A),E}}});var U,T=function(A){if(A.data&&A.data.title!==undefined){return A.data.title}var B=AO.st.image.titleSrc;if(B){if(Ab.isFunction(B)){return B.call(AO,A)}if(A.el){return A.el.attr(B)||""}}return""};Ab.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var B=AO.st.image,A=".image";AO.types.push("image"),AF(AV+A,function(){AO.currItem.type==="image"&&B.cursor&&Ab(document.body).addClass(B.cursor)}),AF(Aa+A,function(){B.cursor&&Ab(document.body).removeClass(B.cursor),AK.off("resize"+AS)}),AF("Resize"+A,AO.resizeImage),AO.isLowIE&&AF("AfterChange",AO.resizeImage)},resizeImage:function(){var B=AO.currItem;if(!B||!B.img){return }if(AO.st.image.verticalFit){var A=0;AO.isLowIE&&(A=parseInt(B.img.css("padding-top"),10)+parseInt(B.img.css("padding-bottom"),10)),B.img.css("max-height",AO.wH-A)}},_onImageHasSize:function(A){A.img&&(A.hasSize=!0,U&&clearInterval(U),A.isCheckingImgSize=!1,AD("ImageHasSize",A),A.imgHidden&&(AO.content&&AO.content.removeClass("mfp-loading"),A.imgHidden=!1))},findImageSize:function(B){var A=0,D=B.img[0],C=function(E){U&&clearInterval(U),U=setInterval(function(){if(D.naturalWidth>0){AO._onImageHasSize(B);return }A>200&&clearInterval(U),A++,A===3?C(10):A===40?C(50):A===100&&C(500)},E)};C(1)},getImage:function(A,H){var G=0,F=function(){A&&(A.img[0].complete?(A.img.off(".mfploader"),A===AO.currItem&&(AO._onImageHasSize(A),AO.updateStatus("ready")),A.hasSize=!0,A.loaded=!0,AD("ImageLoadComplete")):(G++,G<200?setTimeout(F,100):E()))},E=function(){A&&(A.img.off(".mfploader"),A===AO.currItem&&(AO._onImageHasSize(A),AO.updateStatus("error",D.tError.replace("%url%",A.src))),A.hasSize=!0,A.loaded=!0,A.loadError=!0)},D=AO.st.image,C=H.find(".mfp-img");if(C.length){var B=document.createElement("img");B.className="mfp-img",A.el&&A.el.find("img").length&&(B.alt=A.el.find("img").attr("alt")),A.img=Ab(B).on("load.mfploader",F).on("error.mfploader",E),B.src=A.src,C.is("img")&&(A.img=A.img.clone()),B=A.img[0],B.naturalWidth>0?A.hasSize=!0:B.width||(A.hasSize=!1)}return AO._parseMarkup(H,{title:T(A),img_replaceWith:A.img},A),AO.resizeImage(),A.hasSize?(U&&clearInterval(U),A.loadError?(H.addClass("mfp-loading"),AO.updateStatus("error",D.tError.replace("%url%",A.src))):(H.removeClass("mfp-loading"),AO.updateStatus("ready")),H):(AO.updateStatus("loading"),A.loading=!0,A.hasSize||(A.imgHidden=!0,H.addClass("mfp-loading"),AO.findImageSize(A)),H)}}});var S,R=function(){return S===undefined&&(S=document.createElement("p").style.MozTransform!==undefined),S};Ab.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(A){return A.is("img")?A:A.find("img")}},proto:{initZoom:function(){var A=AO.st.zoom,H=".zoom",G;if(!A.enabled||!AO.supportsTransition){return }var F=A.duration,E=function(I){var M=I.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),L="all "+A.duration/1000+"s "+A.easing,K={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},J="transition";return K["-webkit-"+J]=K["-moz-"+J]=K["-o-"+J]=K[J]=L,M.css(K),M},D=function(){AO.content.css("visibility","visible")},C,B;AF("BuildControls"+H,function(){if(AO._allowZoom()){clearTimeout(C),AO.content.css("visibility","hidden"),G=AO._getItemToZoom();if(!G){D();return }B=E(G),B.css(AO._getOffset()),AO.wrap.append(B),C=setTimeout(function(){B.css(AO._getOffset(!0)),C=setTimeout(function(){D(),setTimeout(function(){B.remove(),G=B=null,AD("ZoomAnimationEnded")},16)},F)},16)}}),AF(AZ+H,function(){if(AO._allowZoom()){clearTimeout(C),AO.st.removalDelay=F;if(!G){G=AO._getItemToZoom();if(!G){return }B=E(G)}B.css(AO._getOffset(!0)),AO.wrap.append(B),AO.content.css("visibility","hidden"),setTimeout(function(){B.css(AO._getOffset())},16)}}),AF(Aa+H,function(){AO._allowZoom()&&(D(),B&&B.remove(),G=null)})},_allowZoom:function(){return AO.currItem.type==="image"},_getItemToZoom:function(){return AO.currItem.hasSize?AO.currItem.img:!1},_getOffset:function(A){var F;A?F=AO.currItem.img:F=AO.st.zoom.opener(AO.currItem.el||AO.currItem);var E=F.offset(),D=parseInt(F.css("padding-top"),10),C=parseInt(F.css("padding-bottom"),10);E.top-=Ab(window).scrollTop()-D;var B={width:F.width(),height:(AM?F.innerHeight():F[0].offsetHeight)-C-D};return R()?B["-moz-transform"]=B.transform="translate("+E.left+"px,"+E.top+"px)":(B.left=E.left,B.top=E.top),B}}});var Q="iframe",P="//about:blank",O=function(B){if(AO.currTemplate[Q]){var A=AO.currTemplate[Q].find("iframe");A.length&&(B||(A[0].src=P),AO.isIE8&&A.css("display",B?"block":"none"))}};Ab.magnificPopup.registerModule(Q,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){AO.types.push(Q),AF("BeforeChange",function(B,A,C){A!==C&&(A===Q?O():C===Q&&O(!0))}),AF(Aa+"."+Q,function(){O()})},getIframe:function(A,E){var D=A.src,C=AO.st.iframe;Ab.each(C.patterns,function(){if(D.indexOf(this.index)>-1){return this.id&&(typeof this.id=="string"?D=D.substr(D.lastIndexOf(this.id)+this.id.length,D.length):D=this.id.call(this,D)),D=this.src.replace("%id%",D),!1}});var B={};return C.srcAction&&(B[C.srcAction]=D),AO._parseMarkup(E,B,A),AO.updateStatus("ready"),E}}}),AB()});